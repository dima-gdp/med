/**
 * keen-slider 5.4.0
 * The HTML touch slider carousel with the most native feeling you will get.
 * https://keen-slider.io
 * Copyright 2020-2021 Eric Beyer <contact@ericbeyer.de>
 * License: MIT
 * Released on: 2021-01-16
 */
// внесены изменения в логику работы параметра duration - теперь он создает линейную анимацию
// eslint-disable-next-line
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).KeenSlider=n()}(this,function(){"use strict";function t(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function n(t,n){const e=Object.keys(t);if(Object.getOwnPropertySymbols){let o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,o)}return e}function e(e){for(let r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach(function(n){t(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return r(t,n);let e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function i(t){return Array.prototype.slice.call(t)}function c(t){const n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"function"==typeof t?i(t()):"string"==typeof t?i(n.querySelectorAll(t)):t instanceof HTMLElement!=0?[t]:t instanceof NodeList!=0?t:[]}function u(t,n,e){return Math.min(Math.max(t,n),e)}return Math.sign||(Math.sign=function(t){return(t>0)-(t<0)||+t}),function(t){let n,r,i,a,s,f,l,d,h,p,m,b,g,v,w,y,M,O,S,j,A,k,x,E,P,T,D,L,C,X,Y,z,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const I="data-keen-slider-moves",V="data-keen-slider-v";let q=[],F=null,W=!1,_=!1,K=0,N=[];function R(t,n,e){const o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.addEventListener(n,e,o),q.push([t,n,e,o])}function U(t){if(O&&S===G(t)&&ot()){const e=Q(t).x;if(!Z(t)&&E)return B(t);E&&(jt(),j=e,n.setAttribute(I,!0),E=!1),t.cancelable&&t.preventDefault(),wt(x(j-e,kt)*(it()?-1:1),t.timeStamp),j=e}}function $(t){O||!ot()||function(t){return t.hasAttribute(y.preventEvent)}(t.target)||(O=!0,E=!0,S=G(t),Z(t),st(),M=p,j=Q(t).x,wt(0,t.timeStamp),nt("dragStart"))}function B(t){O&&S===G(t,!0)&&ot()&&(n.removeAttribute(I),O=!1,function(){switch(nt("beforeChange"),y.mode){case"free":!function(){if(0===g)return!(!yt(0)||rt())&&lt(p);const t=y.friction/Math.pow(Math.abs(g),-.5);dt(Math.pow(g,2)/t*Math.sign(g),6*Math.abs(g/t),function(t){return 1-Math.pow(1-t,5)})}();break;case"free-snap":!function(){if(0===g)return lt(p);const t=y.friction/Math.pow(Math.abs(g),-.5),n=Math.pow(g,2)/t*Math.sign(g),e=6*Math.abs(g/t),o=(K+n)/(f/l);dt((-1===m?Math.floor(o):Math.ceil(o))*(f/l)-K,e,function(t){return 1-Math.pow(1-t,5)})}();break;case"snap":default:lt((1===l&&0!==m?M:p)+Math.sign(m))}}(),nt("dragEnd"))}function G(t){const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(t){return t.changedTouches}(t):J(t);return n?n[0]?n[0].identifier:"error":"default"}function J(t){return t.targetTouches}function Q(t){const n=J(t);return{x:ut()?n?n[0].screenY:t.pageY:n?n[0].screenX:t.pageX,timestamp:t.timeStamp}}function Z(t){const n=J(t);if(!n)return!0;const e=n[0],o=ut()?e.clientY:e.clientX,r=ut()?e.clientX:e.clientY,i=void 0!==A&&void 0!==k&&Math.abs(k-r)<=Math.abs(A-o);return A=o,k=r,i}function tt(t){ot()&&O&&t.preventDefault()}function nt(t){y[t]&&y[t](kt)}function et(){return y.centered}function ot(){return void 0!==r?r:y.controls}function rt(){return y.loop&&i>1}function it(){return y.rtl}function ct(){return!y.loop&&y.rubberband}function ut(){return!!y.vertical}function at(){P=window.requestAnimationFrame(ft)}function st(){P&&(window.cancelAnimationFrame(P),P=null),T=null}function ft(t){T||(T=t);const n=t-T,e=function(t){return D*C(t/L)-X}(n);if(n>=L)return wt(D-X,!1),z?z():void nt("afterChange");const o=yt(e);if(0===o||rt()||ct()||Y){if(0!==o&&ct()&&!Y)return function(){if(st(),0===g)return lt(p,!0);const t=.04/Math.pow(Math.abs(g),-.5),n=Math.pow(g,2)/t*Math.sign(g),e=function(t){return--t*t*t+1},o=g;dt(n,3*Math.abs(o/t),e,!0,function(){dt(St(Ot(p)),500,e,!0)})}();X+=e,wt(e,!1),at()}else wt(e-o,!1)}function lt(t,n){const e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.duration;dt(St(t=Ot(t,arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4])),e,function(t){return t},n)}function dt(t,n,e,o,r){st(),D=t,X=0,L=n,C=e,Y=o,z=r,T=null,at()}function ht(e){const o=c(t);o.length&&(n=o[0],bt(e),R(window,"orientationchange",gt),R(window,"resize",function(){return bt()}),R(n,"dragstart",function(t){ot()&&t.preventDefault()}),R(n,"mousedown",$),R(y.cancelOnLeave?n:window,"mousemove",U),y.cancelOnLeave&&R(n,"mouseleave",B),R(window,"mouseup",B),R(n,"touchstart",$,{passive:!0}),R(n,"touchmove",U,{passive:!1}),R(n,"touchend",B,{passive:!0}),R(n,"touchcancel",B,{passive:!0}),R(window,"wheel",tt,{passive:!1}),nt("mounted"))}function pt(){let t;const n=H.breakpoints||[];for(const e in n)window.matchMedia(e).matches&&(t=e);if(t===F)return!0;const o=(F=t)?n[F]:H;o.breakpoints&&F&&delete o.breakpoints,y=e(e(e({},At),H),o),W=!0,h=null,mt()}function mt(t,n){t&&(H=t),n&&(F=null),vt(),ht(n)}function bt(t){const e=window.innerWidth;if(pt()&&(e!==h||t)){h=e;const t=y.slides;"number"==typeof t?(s=null,i=t):(s=c(t,n),i=s?s.length:0);const o=y.dragSpeed;x="function"==typeof o?o:function(t){return t*o},f=ut()?n.offsetHeight:n.offsetWidth,l=function(t){return"function"==typeof t?t():u(t,1,Math.max(rt()?i-1:i,1))}(y.slidesPerView),d=u(y.spacing,0,f/(l-1)-1),f+=d,a=et()?(f/2-f/l/2)/f:0,s&&s.forEach(function(t){const n="calc(".concat(100/l,"% - ").concat(d/l*(l-1),"px)");ut()?(t.style["min-height"]=n,t.style["max-height"]=n):(t.style["min-width"]=n,t.style["max-width"]=n)});const r=!_||W&&y.resetSlide?y.initial:p;(function(t){nt("beforeChange"),wt(St(t),!1),nt("afterChange")})(rt()?r:Mt(r)),ut()&&n.setAttribute(V,!0),W=!1}}function gt(t){bt(),setTimeout(bt,500),setTimeout(bt,2e3)}function vt(){q.forEach(function(t){t[0].removeEventListener(t[1],t[2],t[3])}),q=[],function(){if(s){let t=["transform","-webkit-transform"];t=[].concat(o(t),ut?["min-height","max-height"]:["min-width","max-width"]),s.forEach(function(n){t.forEach(function(t){n.style.removeProperty(t)})})}}(),n&&n.hasAttribute(V)&&n.removeAttribute(V),nt("destroyed")}function wt(t){const n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(function(t,n){clearTimeout(b);const e=Math.sign(t);if(e!==m&&jt(),m=e,N.push({distance:t,time:n}),b=setTimeout(function(){N=[],g=0},50),(N=N.slice(-6)).length<=1||0===m)return g=0;const o=N.slice(0,-1).reduce(function(t,n){return t+n.distance},0),r=N[N.length-1].time,i=N[0].time;g=u(o/(r-i),-10,10)})(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now()),n&&(t=function(t){if(rt())return t;const n=yt(t);if(!ct())return t-n;if(0===n)return t;let e;return t*(e=n/f,(1-Math.abs(e))*(1-Math.abs(e)))}(t)),K+=t,function(){w=rt()?K%(f*i/l)/(f*i/l):K/(f*i/l),function(){const t=Math.round(K/(f/l));t!==p&&(!rt()&&(t<0||t>i-1)||(p=t,nt("slideChanged")))}();for(var t=[],n=0;n<i;n++){let e=(1/i*n-(w<0&&rt()?w+1:w))*i/l+a;rt()&&(e+=e>(i-1)/l?-i/l:e<-i/l+1?i/l:0);const o=1/l,r=e+o,c=r<o?r/o:r>1?1-(r-1)*l/1:1;t.push({portion:c<0||c>1?0:c,distance:it()?-1*e+1-o:e})}v=t,s&&s.forEach(function(t,n){const e=v[n].distance*f-n*(f/l-d/l-d/l*(l-1)),o=ut()?0:e,r=ut()?e:0,i="translate3d(".concat(o,"px, ").concat(r,"px, 0)");t.style.transform=i,t.style["-webkit-transform"]=i}),nt("move")}()}function yt(t){const n=f*(i-1*(et()?1:l))/l,e=K+t;return e>n?e-n:e<0?e:0}function Mt(t){return u(t,0,i-1-(et()?0:l-1))}function Ot(t){const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return rt()?n?function(t,n){const e=(p%i+i)%i,o=e<(t=(t%i+i)%i)?-e-i+t:-(e-t),r=e>t?i-e+t:t-e,c=n?Math.abs(o)<=r?o:r:t<e?o:r;return p+c}(t,e):t:Mt(t)}function St(t){return-(-f/l*t+K)}function jt(){N=[]}var At={centered:!1,breakpoints:null,controls:!0,dragSpeed:1,friction:.0025,loop:!1,initial:0,duration:500,preventEvent:"data-keen-slider-pe",slides:".keen-slider__slide",vertical:!1,resetSlide:!1,slidesPerView:1,spacing:0,mode:"snap",rtl:!1,rubberband:!0,cancelOnLeave:!0},kt={controls(t){r=t},destroy:vt,refresh(t){mt(t,!0)},next(){lt(p+1,!0)},prev(){lt(p-1,!0)},moveToSlide(t,n){lt(t,!0,n)},moveToSlideRelative(t){const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];lt(t,!0,arguments.length>2?arguments[2]:void 0,!0,n)},resize(){bt(!0)},details:()=>(function(){const t=Math.abs(w),n=K<0?1-t:t;return{direction:m,progressTrack:n,progressSlides:n*i/(i-1),positions:v,position:K,speed:g,relativeSlide:(p%i+i)%i,absoluteSlide:p,size:i,slidesPerView:l,widthOrHeight:f}})(),options(){const t=e({},y);return delete t.breakpoints,t}};return pt(),_=!0,nt("created"),kt}});
